<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        Partiel AM3D - Robin Boucher (bouche_7) - HackMD
    </title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
    <link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.5.0/octicons.min.css" integrity="sha256-QiWfLIsCT02Sdwkogf6YMiQlj4NE84MKkzEMkZnMGdg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@hackmd/emojify.js@2.1.0/dist/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @charset "UTF-8";@import url(https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i|Source+Code+Pro:300,400,500|Source+Sans+Pro:300,300i,400,400i,600,600i|Source+Serif+Pro&subset=latin-ext);.hljs{display:block;background:#fff;padding:.5em;color:#333;overflow-x:auto}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-string,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#0086b3}.hljs-built_in,.hljs-builtin-name{color:#005cc5}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#795da3}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.markdown-body{font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e7e7e7;border:0}.markdown-body blockquote{font-size:16px;padding:0 1em;color:#777;border-left:.25em solid #ddd}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd,.popover kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#555;vertical-align:middle;background-color:#fcfcfc;border:1px solid #ccc;border-bottom-color:#bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#000;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eee}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#777}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{padding-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #ddd}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{letter-spacing:-.2em;content:"\00a0"}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:700;background:#f8f8f8;border-top:0}.news .alert .markdown-body blockquote{padding:0 0 0 40px;border:0 none}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle;cursor:default!important}.markdown-body{padding-top:40px;padding-bottom:40px;max-width:758px;overflow:visible!important;position:relative}.markdown-body .emoji{vertical-align:top}.markdown-body pre{border:inherit!important}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{text-align:right;position:relative;display:inline-block;cursor:default;z-index:4;padding:0 8px 0 0;min-width:20px;box-sizing:content-box;color:#afafaf!important;border-right:3px solid #6ce26c!important}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-left:none;border-top:none;border-bottom:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-spacing:0;border-collapse:inherit!important}.markdown-body code[data-gist-id]{background:none;padding:0}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{overflow:unset;margin-bottom:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert>p{margin-bottom:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram,.markdown-body pre.vega{text-align:center;background-color:inherit;border-radius:0;white-space:inherit;overflow:visible}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code,.markdown-body pre.vega>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg,.markdown-body pre.vega>svg{max-width:100%;height:100%}.markdown-body pre>code.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.markdown-body .alert>p,.markdown-body .alert>ul{margin-bottom:0}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.markdown-body .mark,.markdown-body mark{background-color:#fff1a7}.vimeo,.youtube{cursor:pointer;display:table;text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;background-color:#000;overflow:hidden}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{width:100%;object-fit:contain;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{width:100%;height:100%;position:absolute;top:0;left:0}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{position:absolute;height:auto;width:auto;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;opacity:.3;transition:opacity .2s;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.MJX_Assistive_MathML{display:none}#MathJax_Message{z-index:1000!important}.ui-infobar{position:relative;z-index:2;max-width:760px;margin:25px auto -25px;color:#777}.toc .invisable-node{list-style-type:none}.ui-toc{position:fixed;bottom:20px;z-index:998}.ui-toc.both-mode{margin-left:8px}.ui-toc.both-mode .ui-toc-label{height:40px;padding:10px 4px;border-top-left-radius:0;border-bottom-left-radius:0}.ui-toc-label{background-color:#e6e6e6;border:none;color:#868686;transition:opacity .2s}.ui-toc .open .ui-toc-label{opacity:1;color:#fff;transition:opacity .2s}.ui-toc-label:focus{opacity:.3;background-color:#ccc;color:#000}.ui-toc-label:hover{opacity:1;background-color:#ccc;transition:opacity .2s}.ui-toc-dropdown{margin-top:20px;margin-bottom:20px;padding-left:10px;padding-right:10px;max-width:45vw;width:25vw;max-height:70vh;overflow:auto;text-align:inherit}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{padding-right:0;letter-spacing:.0029em}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{display:block;padding:4px 20px;font-size:13px;font-weight:500;color:#767676}.ui-toc-dropdown .nav>li:first-child:last-child > ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{padding-left:19px;color:#000;text-decoration:none;background-color:transparent;border-left:1px solid #000}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{padding-right:19px;border-left:none;border-right:1px solid #000}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{padding-left:18px;font-weight:700;color:#000;background-color:transparent;border-left:2px solid #000}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{padding-right:18px;border-left:none;border-right:2px solid #000}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{padding-top:1px;padding-bottom:1px;padding-left:30px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:40px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{padding-left:28px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{padding-left:38px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,sans-serif}html[lang^=ja] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html .markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html .markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html .markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html[lang^=ja] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html[lang=zh-tw] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html[lang=zh-cn] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}html .ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html .ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html .ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}.ui-affix-toc{position:fixed;top:0;max-width:15vw;max-height:70vh;overflow:auto}.back-to-top,.expand-toggle,.go-to-bottom{display:block;padding:4px 10px;margin-top:10px;margin-left:10px;font-size:12px;font-weight:500;color:#999}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{width:20px;height:20px;display:block;border-radius:50%;margin-top:2px;margin-bottom:2px;margin-right:5px;background-position:50%;background-repeat:no-repeat;background-size:cover}.ui-user-icon.small{width:18px;height:18px;display:inline-block;vertical-align:middle;margin:0 0 .2em}.ui-infobar>small>span{line-height:22px}.ui-infobar>small .dropdown{display:inline-block}.ui-infobar>small .dropdown a:focus,.ui-infobar>small .dropdown a:hover{text-decoration:none}.ui-more-info{color:#888;cursor:pointer;vertical-align:middle}.ui-more-info .fa{font-size:16px}.ui-connectedGithub,.ui-published-note{color:#888}.ui-connectedGithub{line-height:23px;white-space:nowrap}.ui-connectedGithub a.file-path{color:#888;text-decoration:none;padding-left:22px}.ui-connectedGithub a.file-path:active,.ui-connectedGithub a.file-path:hover{color:#888;text-decoration:underline}.ui-connectedGithub .fa{font-size:20px}.ui-published-note .fa{font-size:20px;vertical-align:top}.unselectable{-webkit-user-select:none;-o-user-select:none;user-select:none}.selectable{-webkit-user-select:text;-o-user-select:text;user-select:text}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{position:relative;z-index:1;color:#222}.markdown-body.slides:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;background-color:currentColor;box-shadow:0 0 0 50vw}.markdown-body.slides section[data-markdown]{position:relative;margin-bottom:1.5em;background-color:#fff;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{position:absolute;top:50%;left:1em;right:1em;transform:translateY(-50%);max-height:100%;overflow:hidden}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{content:"";position:absolute;top:-1.5em;right:1em;height:1.5em;border:3px solid #777}.site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .site-ui-font{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;text-shadow:0 0 1em transparent,1px 1px 1.2px rgba(0,0,0,.004);-webkit-overflow-scrolling:touch;letter-spacing:.025em;font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] body{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}abbr[data-original-title],abbr[title]{cursor:help}body.modal-open{overflow-y:auto;padding-right:0!important}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid comment-enabled" data-hard-breaks="true"><h1 id="Partiel-AM3D---Robin-Boucher-bouche_7" data-id="Partiel-AM3D---Robin-Boucher-bouche_7"><a class="anchor hidden-xs" href="#Partiel-AM3D---Robin-Boucher-bouche_7" title="Partiel-AM3D---Robin-Boucher-bouche_7"><span class="octicon octicon-link"></span></a><span>Partiel AM3D - Robin Boucher (bouche_7)</span></h1><details><summary><strong>Enoncé du partiel</strong></summary>
<h2 id="Partie-1-8-points" data-id="Partie-1-8-points"><a class="anchor hidden-xs" href="#Partie-1-8-points" title="Partie-1-8-points"><span class="octicon octicon-link"></span></a><span>Partie 1 (8 points)</span></h2>
<p><span>Le jeu a été révélé lors d’un grand salon, et le public a pu tester une démo jouable. De nombreuses personnes ont eu du mal à comprendre l’histoire : elles étaient bloquées car elles ne savaient pas où aller.</span></p>
<p><span>Alice propose que le personnage central donne des indications au·à la joueur·se lorsque aucune action n’a été faite pendant les dix dernières secondes. Elle propose de donner des indications également à des endroits spécifiques, où les tests ont montrés que les joueur·euse·s se perdaient le plus souvent.</span></p>
<p><span>Alice a d’ailleurs commencé à implémenter ce système. Elle ajoute la classe </span><ins><span>HintManager</span></ins><span> qui gère les indications. Les classes </span><ins><span>HintLocator</span></ins><span> et </span><ins><span>IdleHintArea</span></ins><span> sont responsables de porter les données des indications. Voici des extraits :</span></p>
<pre><code class="cpp hljs"><span class="token keyword">void</span> <span class="token class-name">MainCharacter</span><span class="token operator">::</span><span class="token function">updateHints</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-&gt;</span>lastActionTime <span class="token operator">+</span> IDLE_HINT_DELAY <span class="token operator">&lt;</span> <span class="token class-name">Time</span><span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">HintManager</span><span class="token operator">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">giveIdleHint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">IdleHintArea</span><span class="token operator">::</span><span class="token function">onEnter</span><span class="token punctuation">(</span>Entity <span class="token operator">&amp;</span> entity<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>entity <span class="token operator">==</span> <span class="token class-name">MainCharacter</span><span class="token operator">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">MainCharacter</span><span class="token operator">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setIdleMessage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-&gt;</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">HintLocator</span><span class="token operator">::</span><span class="token function">onEnter</span><span class="token punctuation">(</span>Entity <span class="token operator">&amp;</span> entity<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>entity <span class="token operator">==</span> <span class="token class-name">MainCharacter</span><span class="token operator">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">HintManager</span><span class="token operator">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">triggerMessage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-&gt;</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">HintManager</span><span class="token operator">::</span><span class="token function">giveIdleHint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">auto</span> message <span class="token operator">=</span> <span class="token class-name">MainCharacter</span><span class="token operator">::</span><span class="token function">getIdleMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">triggerMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p><strong><em><span>Quels sont les problèmes d’architecture de ce système ? (2 points)</span></em></strong></p>
<p><strong><em><span>Proposez une nouvelle conception du système, qui remédie à ces problèmes. (3 points)</span></em></strong></p>
<p><strong><em><span>Proposez des tests unitaires qui garantissent qu’une indication doit être affichée au bout du délai, compté à partir de la dernière action. Une nouvelle action remet à zéro le chronomètre. (3 points)</span></em></strong><br>
<span>Pensez bien que les tests doivent s’exécuter le plus vite possible : il ne faut pas perdre du temps à attendre “pour de vrai”. Il n’est pas demandé d’implémenter les fonctions appelées dans le test.</span></p>
<h2 id="Partie-2-5-points" data-id="Partie-2-5-points"><a class="anchor hidden-xs" href="#Partie-2-5-points" title="Partie-2-5-points"><span class="octicon octicon-link"></span></a><span>Partie 2 (5 points)</span></h2>
<p><span>Bob a développé un système de quête assez complexe. Plusieurs quêtes peuvent être réunies dans un même groupe, une sorte de méga-quête. Bien sûr, une méga-quête peut elle-même faire partie d’un groupe encore plus grand, et ainsi de suite.</span></p>
<p><span>Il y a régulièrement des traitements à faire sur la liste de quête. Par exemple, il faut obtenir la liste des quêtes terminées. Un groupe de quête est terminé si et seulement si tous ses éléments (quêtes ou sous-groupes) sont terminés. Voici l’extrait du code qui détermine si une quête est terminée :</span></p>
<pre><code class="cpp hljs"><span class="token keyword">bool</span> <span class="token class-name">QuestManager</span><span class="token operator">::</span><span class="token function">isQuestCompleted</span><span class="token punctuation">(</span>AbstractQuest <span class="token operator">*</span> quest<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">auto</span> questGroup <span class="token operator">=</span> <span class="token keyword">dynamic_cast</span><span class="token operator">&lt;</span>QuestGroup <span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>quest<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>questGroup <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token comment">// The quest is actually a quest group.</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> subquest <span class="token operator">:</span> questGroup<span class="token operator">-&gt;</span>subquests<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">isQuestCompleted</span><span class="token punctuation">(</span>subquest<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// The quest is a real quest: get its status.</span>
        <span class="token keyword">auto</span> actualQuest <span class="token operator">=</span> <span class="token keyword">dynamic_cast</span><span class="token operator">&lt;</span>Quest <span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>quest<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> actualQuest<span class="token operator">-&gt;</span>status <span class="token operator">==</span> QuestStatus<span class="token operator">::</span>Completed<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><span>Il existe de très nombreuses fonctions qui sont des copier-collers de celle-ci avec quelques modifications. Par exemple, voici la fonction qui donne une estimation du temps restant avant de finir toutes les quêtes en cours :</span></p>
<pre><code class="cpp hljs">Duration <span class="token class-name">QuestManager</span><span class="token operator">::</span><span class="token function">getDurationEstimateTillCompletion</span><span class="token punctuation">(</span>AbstractQuest <span class="token operator">*</span> quest<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">auto</span> questGroup <span class="token operator">=</span> <span class="token keyword">dynamic_cast</span><span class="token operator">&lt;</span>QuestGroup <span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>quest<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>questGroup <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// The quest is actually a quest group.</span>
        Duration sum<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> subquest <span class="token operator">:</span> questGroup<span class="token operator">-&gt;</span>subquests<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            sum <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">getDurationEstimateTillCompletion</span><span class="token punctuation">(</span>subquest<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// The quest is a real quest: get its status.</span>
        <span class="token keyword">auto</span> actualQuest <span class="token operator">=</span> <span class="token keyword">dynamic_cast</span><span class="token operator">&lt;</span>Quest <span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>quest<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> actualQuest<span class="token operator">-&gt;</span>durationEstimate<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><span>Bob avait l’habitude de copier-coller des bouts de code, mais depuis que vous avez intégré l’équipe, il a compris que ce n’était pas une bonne pratique de développement. Il se dit qu’il doit y avoir un moyen d’enlever ces duplications de code, mais il ne sait pas comment faire et vous appelle à l’aide.</span></p>
<p><strong><em><span>Proposez une conception qui enlève les duplications de code (3 points) et un test unitaire (2 points)</span></em></strong><span> qui puisse servir d’exemple à Bob pour adapter ses fonctions. Il n’est pas demandé d’implémenter les fonctions appelées dans le test.</span></p>
<h2 id="Partie-3-7-points" data-id="Partie-3-7-points"><a class="anchor hidden-xs" href="#Partie-3-7-points" title="Partie-3-7-points"><span class="octicon octicon-link"></span></a><span>Partie 3 (7 points)</span></h2>
<p><span>A un certain moment de l’histoire, le personnage principal acquiert la capacité de remonter dans le temps pour modifier ses choix.</span></p>
<p><span>Alice et Bob, prenant exemple sur vous, voudraient commencer le développement de cette feature en écrivant un test unitaire. Mais ils se rendent compte que ce n’est pas facile : les actions influent d’autres systèmes, par exemple le système d’inventaire, développé par une autre équipe. Vous voulez donc changer le système afin de le rendre plus facilement testable : il faut pouvoir s’assurer que les actions agissent puis s’annulent comme attendu, sans nécessiter la création d’autres systèmes à côté.</span></p>
<p><strong><em><span>Proposez une solution qui permette d’annuler des actions. (3 points)</span></em></strong></p>
<p><span>Cette conception doit être facilement testable.</span></p>
<p><strong><em><span>Proposez des tests unitaires pour garantir : (4 points)</span></em></strong></p>
<ol>
<li><span>Qu’une action peut être annulée, auquel cas les autres systèmes (e.g. inventaire) sont mis à jour également.</span></li>
<li><span>Qu’on ne peut pas annuler plus d’actions que le nombre d’action qu’on a fait.</span></li>
<li><span>Que si on annule une action et qu’on fait une autre action, c’est bien le résultat de la nouvelle action qu’on obtient.</span></li>
</ol>
<p><span>Il n’est pas demandé d’implémenter les fonctions appelées dans les tests.</span></p>
</details><details><summary><strong>Mon rendu</strong></summary>
<h2 id="Partie-1" data-id="Partie-1"><a class="anchor hidden-xs" href="#Partie-1" title="Partie-1"><span class="octicon octicon-link"></span></a><span>Partie 1</span></h2>
<h3 id="Quels-sont-les-problèmes-d’architecture-de-ce-système--2-points" data-id="Quels-sont-les-problèmes-d’architecture-de-ce-système--2-points"><a class="anchor hidden-xs" href="#Quels-sont-les-problèmes-d’architecture-de-ce-système--2-points" title="Quels-sont-les-problèmes-d’architecture-de-ce-système--2-points"><span class="octicon octicon-link"></span></a><span>Quels sont les problèmes d’architecture de ce système ? (2 points)</span></h3>
<h4 id="Singleton" data-id="Singleton"><a class="anchor hidden-xs" href="#Singleton" title="Singleton"><span class="octicon octicon-link"></span></a><span>Singleton</span></h4>
<p><span>Dans ce système, on constate une utilisation importante du design pattern </span><strong><span>singleton</span></strong><span>.</span><br>
<span>Dans les 4 fonctions présentées, des appels à la méthode </span><code>instance()</code><span> sont effectuées:</span></p>
<pre><code class="cpp hljs"><span class="token keyword">void</span> <span class="token class-name">MainCharacter</span><span class="token operator">::</span><span class="token function">updateHints</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-&gt;</span>lastActionTime <span class="token operator">+</span> IDLE_HINT_DELAY <span class="token operator">&lt;</span> <span class="token class-name">Time</span><span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// la methode instance() renvoie l'unique instance de HintManager</span>
        <span class="token class-name">HintManager</span><span class="token operator">::</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">giveIdleHint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><span>Cette méthode </span><code>instance()</code><span> a pour effet de toujours renvoyer la même instance qui aura été initialisé une seule fois avant son utilisation (</span><em><span>généralement en début de programme</span></em><span>).</span></p>
<p><span>Les problèmes que cela engendre:</span></p>
<ul>
<li><span>des dépendances circulaires entre </span><code>MainCharacter et HintManager</code><pre class="graphviz"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %0 Pages: 1 -->
<svg width="275pt" height="188pt" viewBox="0.00 0.00 275.35 188.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>%0</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-184 271.3468,-184 271.3468,4 -4,4"></polygon>
<!-- MainCharacter -->
<g id="node1" class="node">
<title>MainCharacter</title>
<ellipse fill="none" stroke="#000000" cx="83.3699" cy="-90" rx="68.8965" ry="18"></ellipse>
<text text-anchor="middle" x="83.3699" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">MainCharacter</text>
</g>
<!-- HintManager -->
<g id="node2" class="node">
<title>HintManager</title>
<ellipse fill="none" stroke="#000000" cx="83.3699" cy="-18" rx="62.5392" ry="18"></ellipse>
<text text-anchor="middle" x="83.3699" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">HintManager</text>
</g>
<!-- MainCharacter&#45;&gt;HintManager -->
<g id="edge1" class="edge">
<title>MainCharacter-&gt;HintManager</title>
<path fill="none" stroke="#000000" d="M77.4175,-71.8314C76.6671,-64.131 76.4462,-54.9743 76.7548,-46.4166"></path>
<polygon fill="#000000" stroke="#000000" points="80.2491,-46.6161 77.3939,-36.4133 73.2633,-46.1697 80.2491,-46.6161"></polygon>
</g>
<!-- HintManager&#45;&gt;MainCharacter -->
<g id="edge7" class="edge">
<title>HintManager-&gt;MainCharacter</title>
<path fill="none" stroke="#000000" d="M89.3459,-36.4133C90.077,-44.0593 90.2902,-53.1084 89.9854,-61.5726"></path>
<polygon fill="#000000" stroke="#000000" points="86.4747,-61.6264 89.3223,-71.8314 93.4601,-62.078 86.4747,-61.6264"></polygon>
</g>
<!-- IdleHintArea -->
<g id="node3" class="node">
<title>IdleHintArea</title>
<ellipse fill="none" stroke="#000000" cx="205.3699" cy="-162" rx="61.9538" ry="18"></ellipse>
<text text-anchor="middle" x="205.3699" y="-157.8" font-family="Times,serif" font-size="14.00" fill="#000000">IdleHintArea</text>
</g>
<!-- IdleHintArea&#45;&gt;MainCharacter -->
<g id="edge2" class="edge">
<title>IdleHintArea-&gt;MainCharacter</title>
<path fill="none" stroke="#000000" d="M177.9907,-145.8418C160.9653,-135.794 138.8583,-122.7473 120.2946,-111.7916"></path>
<polygon fill="#000000" stroke="#000000" points="121.8949,-108.6721 111.504,-106.6037 118.3371,-114.7005 121.8949,-108.6721"></polygon>
</g>
<!-- Entity -->
<g id="node4" class="node">
<title>Entity</title>
<ellipse fill="none" stroke="#000000" cx="205.3699" cy="-90" rx="34.7883" ry="18"></ellipse>
<text text-anchor="middle" x="205.3699" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">Entity</text>
</g>
<!-- IdleHintArea&#45;&gt;Entity -->
<g id="edge3" class="edge">
<title>IdleHintArea-&gt;Entity</title>
<path fill="none" stroke="#000000" d="M205.3699,-143.8314C205.3699,-136.131 205.3699,-126.9743 205.3699,-118.4166"></path>
<polygon fill="#000000" stroke="#000000" points="208.87,-118.4132 205.3699,-108.4133 201.87,-118.4133 208.87,-118.4132"></polygon>
</g>
<!-- HintLocator -->
<g id="node5" class="node">
<title>HintLocator</title>
<ellipse fill="none" stroke="#000000" cx="67.3699" cy="-162" rx="58.4648" ry="18"></ellipse>
<text text-anchor="middle" x="67.3699" y="-157.8" font-family="Times,serif" font-size="14.00" fill="#000000">HintLocator</text>
</g>
<!-- HintLocator&#45;&gt;MainCharacter -->
<g id="edge5" class="edge">
<title>HintLocator-&gt;MainCharacter</title>
<path fill="none" stroke="#000000" d="M71.4074,-143.8314C73.1186,-136.131 75.1534,-126.9743 77.0551,-118.4166"></path>
<polygon fill="#000000" stroke="#000000" points="80.5253,-118.9344 79.278,-108.4133 73.692,-117.4159 80.5253,-118.9344"></polygon>
</g>
<!-- HintLocator&#45;&gt;HintManager -->
<g id="edge6" class="edge">
<title>HintLocator-&gt;HintManager</title>
<path fill="none" stroke="#000000" d="M39.7986,-145.9022C26.7672,-136.6435 12.5248,-123.72 5.3699,-108 -1.2582,-93.4374 -2.0558,-86.1725 5.3699,-72 12.8317,-57.7587 25.9443,-46.5265 39.3132,-38.0794"></path>
<polygon fill="#000000" stroke="#000000" points="41.2314,-41.0118 48.0787,-32.9269 37.6841,-34.9771 41.2314,-41.0118"></polygon>
</g>
<!-- HintLocator&#45;&gt;Entity -->
<g id="edge4" class="edge">
<title>HintLocator-&gt;Entity</title>
<path fill="none" stroke="#000000" d="M97.3138,-146.3771C119.1909,-134.963 148.8782,-119.4739 171.6,-107.6191"></path>
<polygon fill="#000000" stroke="#000000" points="173.3095,-110.675 180.5563,-102.9462 170.0715,-104.4689 173.3095,-110.675"></polygon>
</g>
</g>
</svg>
</pre>
</li>
<li><span>Ces instances sont généralement accessibles par tous les modules, ce qui impliquent que les modules de bas niveau peuvent accéder aux modules de haut niveau.</span></li>
<li><span>On ne passe pas par des abstractions.</span></li>
<li><span>Le code est fortement dépendant de ces </span><em><span>objets</span></em><span>, ce qui le rend difficilement réutilisable et testable.</span></li>
<li><span>Vu que les instances sont initialisées dès le début, cela veut dire que ces objets “</span><em><span>vivent</span></em><span>” pendant tout le cycle de vie de l’application.</span></li>
<li><span>On a au moins un dernier problème sur le fait que la classe gère elle-même son cycle de vie.</span></li>
</ul>
<h3 id="Proposez-une-nouvelle-conception-du-système-qui-remédie-à-ces-problèmes-3-points" data-id="Proposez-une-nouvelle-conception-du-système-qui-remédie-à-ces-problèmes-3-points"><a class="anchor hidden-xs" href="#Proposez-une-nouvelle-conception-du-système-qui-remédie-à-ces-problèmes-3-points" title="Proposez-une-nouvelle-conception-du-système-qui-remédie-à-ces-problèmes-3-points"><span class="octicon octicon-link"></span></a><span>Proposez une nouvelle conception du système, qui remédie à ces problèmes. (3 points)</span></h3>
<p><span>On doit se débarasser des singletons du système:</span></p>
<ol>
<li><span>on crée des abstractions (</span><em><span>interface</span></em><span>) </span><code>IManager, ICharacter, ..</code></li>
<li><span>chaque classe implémente une interface </span><code>MainCharacter implements ICharacter</code></li>
<li><span>Toutes les classes qui utilise la méthode </span><code>MyObject.instance()</code><span> se voient rajouter une dépendance dans le constructeur de la classe vers l’interface implémentée par </span><code>MyObject</code><pre><code class="cpp hljs"><span class="token comment">// dépendance vers IManager</span>
<span class="token function">MainCharacter</span><span class="token punctuation">(</span>IManager hintManager<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre>
</li>
<li><span>on ajoute un système d’injection de dépendances pour l’utilisation des objets implémentant les abstractions</span></li>
</ol>
<p><span>L’injection de dépendances et l’inversion de dépendances permettent de résoudre les problèmes:</span></p>
<ul>
<li><span>de dépendances circulaires</span><pre class="graphviz"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %0 Pages: 1 -->
<svg width="564pt" height="116pt" viewBox="0.00 0.00 564.47 116.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>%0</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-112 560.4679,-112 560.4679,4 -4,4"></polygon>
<!-- MainCharacter -->
<g id="node1" class="node">
<title>MainCharacter</title>
<ellipse fill="none" stroke="#000000" cx="68.9482" cy="-90" rx="68.8965" ry="18"></ellipse>
<text text-anchor="middle" x="68.9482" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">MainCharacter</text>
</g>
<!-- IManager -->
<g id="node2" class="node">
<title>IManager</title>
<ellipse fill="none" stroke="#000000" cx="104.9482" cy="-18" rx="48.6346" ry="18"></ellipse>
<text text-anchor="middle" x="104.9482" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">IManager</text>
</g>
<!-- MainCharacter&#45;&gt;IManager -->
<g id="edge1" class="edge">
<title>MainCharacter-&gt;IManager</title>
<path fill="none" stroke="#000000" d="M78.0326,-71.8314C82.1138,-63.6688 87.0132,-53.87 91.5069,-44.8827"></path>
<polygon fill="#000000" stroke="#000000" points="94.6498,-46.423 95.9915,-35.9134 88.3888,-43.2924 94.6498,-46.423"></polygon>
</g>
<!-- IdleHintArea -->
<g id="node3" class="node">
<title>IdleHintArea</title>
<ellipse fill="none" stroke="#000000" cx="351.9482" cy="-90" rx="61.9538" ry="18"></ellipse>
<text text-anchor="middle" x="351.9482" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">IdleHintArea</text>
</g>
<!-- ICharacter -->
<g id="node4" class="node">
<title>ICharacter</title>
<ellipse fill="none" stroke="#000000" cx="351.9482" cy="-18" rx="51.5612" ry="18"></ellipse>
<text text-anchor="middle" x="351.9482" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">ICharacter</text>
</g>
<!-- IdleHintArea&#45;&gt;ICharacter -->
<g id="edge2" class="edge">
<title>IdleHintArea-&gt;ICharacter</title>
<path fill="none" stroke="#000000" d="M351.9482,-71.8314C351.9482,-64.131 351.9482,-54.9743 351.9482,-46.4166"></path>
<polygon fill="#000000" stroke="#000000" points="355.4483,-46.4132 351.9482,-36.4133 348.4483,-46.4133 355.4483,-46.4132"></polygon>
</g>
<!-- IEntity -->
<g id="node5" class="node">
<title>IEntity</title>
<ellipse fill="none" stroke="#000000" cx="228.9482" cy="-18" rx="37.7179" ry="18"></ellipse>
<text text-anchor="middle" x="228.9482" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">IEntity</text>
</g>
<!-- IdleHintArea&#45;&gt;IEntity -->
<g id="edge3" class="edge">
<title>IdleHintArea-&gt;IEntity</title>
<path fill="none" stroke="#000000" d="M324.3446,-73.8418C305.8787,-63.0325 281.4836,-48.7524 261.9856,-37.3389"></path>
<polygon fill="#000000" stroke="#000000" points="263.5316,-34.1884 253.1333,-32.1571 259.9953,-40.2295 263.5316,-34.1884"></polygon>
</g>
<!-- HintLocator -->
<g id="node6" class="node">
<title>HintLocator</title>
<ellipse fill="none" stroke="#000000" cx="213.9482" cy="-90" rx="58.4648" ry="18"></ellipse>
<text text-anchor="middle" x="213.9482" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">HintLocator</text>
</g>
<!-- HintLocator&#45;&gt;IManager -->
<g id="edge6" class="edge">
<title>HintLocator-&gt;IManager</title>
<path fill="none" stroke="#000000" d="M189.2145,-73.6621C173.8099,-63.4866 153.8286,-50.2879 137.1896,-39.297"></path>
<polygon fill="#000000" stroke="#000000" points="139.1081,-36.3697 128.8351,-33.7784 135.25,-42.2105 139.1081,-36.3697"></polygon>
</g>
<!-- HintLocator&#45;&gt;ICharacter -->
<g id="edge5" class="edge">
<title>HintLocator-&gt;ICharacter</title>
<path fill="none" stroke="#000000" d="M243.8922,-74.3771C264.4235,-63.6651 291.8337,-49.3641 313.9095,-37.8463"></path>
<polygon fill="#000000" stroke="#000000" points="315.7615,-40.8278 323.0084,-33.099 312.5235,-34.6217 315.7615,-40.8278"></polygon>
</g>
<!-- HintLocator&#45;&gt;IEntity -->
<g id="edge4" class="edge">
<title>HintLocator-&gt;IEntity</title>
<path fill="none" stroke="#000000" d="M217.7334,-71.8314C219.3802,-63.9266 221.3467,-54.4872 223.1698,-45.7365"></path>
<polygon fill="#000000" stroke="#000000" points="226.6031,-46.4171 225.2163,-35.9134 219.7502,-44.9894 226.6031,-46.4171"></polygon>
</g>
<!-- HintManager -->
<g id="node7" class="node">
<title>HintManager</title>
<ellipse fill="none" stroke="#000000" cx="493.9482" cy="-90" rx="62.5392" ry="18"></ellipse>
<text text-anchor="middle" x="493.9482" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">HintManager</text>
</g>
<!-- HintManager&#45;&gt;ICharacter -->
<g id="edge7" class="edge">
<title>HintManager-&gt;ICharacter</title>
<path fill="none" stroke="#000000" d="M462.7857,-74.1993C441.5464,-63.4301 413.2748,-49.0952 390.601,-37.5986"></path>
<polygon fill="#000000" stroke="#000000" points="392.0829,-34.4258 381.581,-33.0251 388.9172,-40.6691 392.0829,-34.4258"></polygon>
</g>
</g>
</svg>
</pre>
</li>
<li><span>on passe maintenant par des abstractions</span></li>
<li><span>le code est dépendant d’abstractions maintenant, ce qui le rend plus facilement réutilisable et testable</span></li>
<li><span>l’initialisation des instances est gérée par l’injection de dépendances et non plus par les classes elles-même</span></li>
</ul>
<h3 id="Proposez-des-tests-unitaires-qui-garantissent-qu’une-indication-doit-être-affichée-au-bout-du-délai-compté-à-partir-de-la-dernière-action-Une-nouvelle-action-remet-à-zéro-le-chronomètre-3-points" data-id="Proposez-des-tests-unitaires-qui-garantissent-qu’une-indication-doit-être-affichée-au-bout-du-délai-compté-à-partir-de-la-dernière-action-Une-nouvelle-action-remet-à-zéro-le-chronomètre-3-points"><a class="anchor hidden-xs" href="#Proposez-des-tests-unitaires-qui-garantissent-qu’une-indication-doit-être-affichée-au-bout-du-délai-compté-à-partir-de-la-dernière-action-Une-nouvelle-action-remet-à-zéro-le-chronomètre-3-points" title="Proposez-des-tests-unitaires-qui-garantissent-qu’une-indication-doit-être-affichée-au-bout-du-délai-compté-à-partir-de-la-dernière-action-Une-nouvelle-action-remet-à-zéro-le-chronomètre-3-points"><span class="octicon octicon-link"></span></a><span>Proposez des tests unitaires qui garantissent qu’une indication doit être affichée au bout du délai, compté à partir de la dernière action. Une nouvelle action remet à zéro le chronomètre. (3 points)</span></h3>
<h2 id="Partie-2" data-id="Partie-2"><a class="anchor hidden-xs" href="#Partie-2" title="Partie-2"><span class="octicon octicon-link"></span></a><span>Partie 2</span></h2>
<h3 id="Proposez-une-conception-qui-enlève-les-duplications-de-code-3-points" data-id="Proposez-une-conception-qui-enlève-les-duplications-de-code-3-points"><a class="anchor hidden-xs" href="#Proposez-une-conception-qui-enlève-les-duplications-de-code-3-points" title="Proposez-une-conception-qui-enlève-les-duplications-de-code-3-points"><span class="octicon octicon-link"></span></a><span>Proposez une conception qui enlève les duplications de code (3 points)</span></h3>
<p><span>On utilise le design pattern du visiteur.</span></p>
<ul>
<li><span>En effet, on effectue différents types d’opérations mais cela se passe toujours sur une liste de quetes.</span></li>
<li><span>Ce design permet d’ajouter des operations facilement (on évite de dupliquer du code inutilement).</span></li>
</ul>
<p><span>Pour cela, on ajoute à toutes les classes de type </span><code>AbstractQuest</code><span> des methodes qui acceptent des Visiteurs et à tous les Visiteurs on met des méthodes qui visitent la liste des quetes qu’on leur fournit.</span></p>
<h3 id="et-un-test-unitaire-2-points" data-id="et-un-test-unitaire-2-points"><a class="anchor hidden-xs" href="#et-un-test-unitaire-2-points" title="et-un-test-unitaire-2-points"><span class="octicon octicon-link"></span></a><span>et un test unitaire (2 points)</span></h3>
<ol>
<li><span>on créé un visiteur de test</span></li>
<li><span>on créé une liste de quetes (mocké bien entendu)</span></li>
<li><span>on boucle sur la liste de quetes et on donne le visiteur pour chaque quete</span></li>
<li><span>on vérifie que les actions ont bien été faites sur les quetes</span></li>
</ol>
<h2 id="Partie-3-7-points1" data-id="Partie-3-7-points"><a class="anchor hidden-xs" href="#Partie-3-7-points1" title="Partie-3-7-points1"><span class="octicon octicon-link"></span></a><span>Partie 3 (7 points)</span></h2>
<h3 id="Proposez-une-solution-qui-permette-d’annuler-des-actions-3-points" data-id="Proposez-une-solution-qui-permette-d’annuler-des-actions-3-points"><a class="anchor hidden-xs" href="#Proposez-une-solution-qui-permette-d’annuler-des-actions-3-points" title="Proposez-une-solution-qui-permette-d’annuler-des-actions-3-points"><span class="octicon octicon-link"></span></a><span>Proposez une solution qui permette d’annuler des actions. (3 points)</span></h3>
<p><span>On utilise le </span><strong><span>Command</span></strong><span> design pattern.</span><br>
<span>Cela permet d’avoir une classe qui va encapsuler toutes les informations nécessaires aux commandes à exécuter. Celle-ci n’a pas besoin d’avoir le contexte complet pour éxécuter ces commandes, elle a juste besoin du strict nécessaire pour éxécuter la commande.</span></p>
<p><span>A partir de cela, on a va pouvoir avoir une liste de commandes qui peuvent etre executé les unes indépendamment des autres, dans un ordre précis ou non.</span></p>
<p><span>Dans notre cas, on a un index correspondant à l’index de l’action courante et une liste de commande. Quand on execute une commande, on vient ajouter la commande à la fin de la liste, ou dans le cas ou l’index ne correspond pas à la derniere commande, on écrase la prochaine commande et supprime les commandes suivantes.</span></p>
<h3 id="Proposez-des-tests-unitaires-pour-garantir--4-points" data-id="Proposez-des-tests-unitaires-pour-garantir--4-points"><a class="anchor hidden-xs" href="#Proposez-des-tests-unitaires-pour-garantir--4-points" title="Proposez-des-tests-unitaires-pour-garantir--4-points"><span class="octicon octicon-link"></span></a><span>Proposez des tests unitaires pour garantir : (4 points)</span></h3>
<ol>
<li><span>On ouvre une porte avec une clé:</span>
<ol>
<li><span>dans l’inventaire, on ajoute une clé</span></li>
<li><span>on arrive devant une porte</span></li>
<li><span>on execute la commande ouvrir une porte</span></li>
<li><span>on verifie que dans l’inventaire, il n’y a plus de clé</span></li>
<li><span>on annule l’ouverture de la porte</span></li>
<li><span>on verifie que dans l’inventaire, la clé est là</span></li>
</ol>
</li>
<li><span>On ouvre une porte:</span>
<ol>
<li><span>on ne bouge pas</span></li>
<li><span>on execute la commande ouvrir une porte</span></li>
<li><span>on annule la commande deux fois</span></li>
<li><span>on verifie qu’on ne bouge pas</span></li>
</ol>
</li>
</ol>
</details></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav">
<li class=""><a href="#Partiel-AM3D---Robin-Boucher-bouche_7" title="Partiel AM3D - Robin Boucher (bouche_7)">Partiel AM3D - Robin Boucher (bouche_7)</a></li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;" null null>
        <div class="toc"><ul class="nav">
<li class=""><a href="#Partiel-AM3D---Robin-Boucher-bouche_7" title="Partiel AM3D - Robin Boucher (bouche_7)">Partiel AM3D - Robin Boucher (bouche_7)</a></li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
